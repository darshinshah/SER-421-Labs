var redDotControl="redDotControl",giveMuidHomepageHeaderIconId="rh_meter_leaf_homepage",giveMuidSerpHeaderIconId="rh_meter_leaf",giveMuidHomepageHeaderIconIdV2="givemuid_heart_homepage",giveMuidSerpHeaderIconIdV2="givemuid_heart",giveMuidPartnerId="GiveMuid",bepns=bepns||function(n,t){function ct(){var f=this,i;u=n("id_rh");r=n("bepfo");r||(i=n("id_rwl"),i&&(r=t("div"),r.id="bepfo",r.className=o,i.parentNode&&i.parentNode.insertBefore(r,i.nextSibling)));at();sj_evt.bind("AutoOpenFlyout",function(){p=!0;s(r,o)&&w(f.evt,!0)},!0);sj_be(u,c,nt,!1);sj_evt.bind(d,tt,!1);sj_evt.bind(k,wt);sj_evt.bind("onP1",lt,1);sj_evt.bind("id:refreshed",vt,1)}function lt(){var n=0,t=setInterval(function(){u&&u.offsetWidth>0&&u.offsetHeight>0?(clearInterval(t),sj_evt.fire("bepready",it)):n==80&&clearInterval(t);n++},400)}function at(){pt(u,ht)}function vt(){yt(_ge("idd_rwds"),_ge("idd_rwdstrial"))}function yt(n,t){n&&t&&(t.href=n.href,n.h?t.h=n.h:n.getAttribute&&n.getAttribute("h")&&t.setAttribute("h",n.getAttribute("h")))}function pt(n,t){n&&(n.href=t)}function wt(n){n[1]!==b&&f()}function s(n,t){if(n&&n.className){var i=" "+n.className+" ";return i.indexOf(" "+t+" ")!==-1}return!1}function h(n,t){n&&!s(n,t)&&(n.className+=" "+t)}function a(n,t){if(s(n,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}}function nt(n){r&&(s(r,o)?w(n):f(n))}function tt(n){r&&(!r||s(r,o)?w(n):f(n),sj_evt.unbind(d,tt))}function bt(){u&&sj_ue(u,c,nt,!1)}function it(n){typeof _H!="undefined"&&(n&&n>0?kt():rt())}function kt(){h(u,"rigleamon")}function rt(){a(u,"rigleamon")}function w(n,s){if(s===void 0&&(s=!1),sj_evt.fire("focusChange","bep"),r){if(a(r,"popup"),r.firstChild)st(!0);else{i=t("iframe");i.id="bepfm";i.frameBorder="no";i.scrolling="no";i.height=0;r.appendChild(i);s?(r.style.visibility="hidden",sj_be(i,g,function(){r.style.visibility="visible";ot(s);h(r,"popup")},!1)):(sj_be(i,g,function(){ot(s)},!1),ft(i),e=t("div"),e.id="bepfl",e.innerText=e.textContent="Loading...",r.appendChild(e),et(e));var y=ut();i.src=y.src;y.isDarkMode&&h(r,"darkMode")}a(r,o);u.setAttribute("aria-expanded","true")}h(u,"openfo");sj_sp(n);sj_evt.fire(k,b);s||(sj_be(_d,c,f,!0),sj_be(_d,l,v,!0))}function ut(){var i=_w.location.search.substr(1),o=/(^|&)rewardstesthooks=1(&|$)/i.exec(i),r=/(?:^|&)rewardsbag=([^&]*)(?:&|$)/i.exec(i),u=undefined,s,t,h,n,c;try{s=/(^|&)uncrunched=1(&|$)/i;u=s.exec(i)}catch(y){u=undefined}t=undefined;try{h=/(^|&)isDarkMode=1(&|$)/i;t=h.exec(i)}catch(w){t=undefined}n=undefined;try{c=/(?:^|&)partnerId=([^&]*)(?:&|$)/i;n=c.exec(i)}catch(b){n=undefined}var e=new Date,l=e.getDate(),a=e.getMonth()+1,v=(a<10?"0":"")+a+"/"+(l<10?"0":"")+l+"/"+e.getFullYear(),f;return f=!n&&_ge&&(_ge(giveMuidHomepageHeaderIconId)||_ge(giveMuidSerpHeaderIconId)||_ge(giveMuidHomepageHeaderIconIdV2)||_ge(giveMuidSerpHeaderIconIdV2))?"/rewardsapp/flyout?channel=0&partnerId="+giveMuidPartnerId+"&date="+v+(o&&r?"&atlahostname=localhost&bag="+r[1]:"")+(u?"&uncrunched=1":"")+(t?"&isDarkMode=1":""):"/rewardsapp/flyout?channel=0"+(p?"&partnerId=AutoOpenFlyout":n&&n[1]?"&partnerId="+n[1]:"")+"&date="+v+(o&&r?"&atlahostname=localhost&bag="+r[1]:"")+(u?"&uncrunched=1":"")+(t?"&isDarkMode=1":""),p&&(f=f+"&isAutoOpen=1"),{src:f,isDarkMode:t}}function f(n){s(r,o)||h(r,o);a(u,"openfo");typeof _H!="undefined"&&rt();u.setAttribute("aria-expanded","false");sj_ue(_d,c,f,!0);sj_ue(_d,l,v,!0);i&&i.contentWindow&&sj_ue(i.contentWindow.document,l,v,!0);n&&sj_sp(n);n&&sj_pd(n);st(!1)}function ft(n){n&&(n.style.display="none")}function et(n){n&&(n.style.display="block")}function ot(n){n||(ft(e),et(i));i.height=Math.min(i.contentWindow.document.body.scrollHeight,y);i&&i.contentWindow&&sj_be(i.contentWindow.document,l,v,!0);sj_be(_w,"message",dt,!1)}function st(n){i&&i.contentWindow.postMessage({action:"visibility",isVisible:n},"*")}function dt(n){var t,r,u;if(n.source==i.contentWindow&&n.data)switch(n.data.action){case"resize":t=n.data.bodyHeight&&parseFloat(n.data.bodyHeight);i.height=t&&!isNaN(t)?Math.min(t,y):Math.min(i.contentWindow.document.body.scrollHeight,y);break;case"updatePoints":RewardsCreditRefresh&&(r=RewardsCreditRefresh.GetRewardsHeaderBalance(),r!=n.data.newBal&&(RewardsCreditRefresh.SetRewardsHeaderBalance(n.data.newBal),RewardsCreditRefresh.RewardsHeaderAnim(r,n.data.newBal,n.data.goal,n.data.incr)));break;case"redDotControl":sj_evt.fire(redDotControl,!0);break;case"refresh":i&&(u=ut(),i.src=u.src);break;case"close":i&&f()}}var b="bepfo",y=700,k="onPopTR",d="openbep",u,r,e,i,c="click",l="keyup",g="load",o="b_hide",ht="javascript:void(0)",p=!1,v=function(n){var e=n.which||n.keyCode,r=sj_et(n),t;if(e==27){f(n);u.focus();return}if(e==9&&r&&i){if(t=r.nodeName,t=="BODY"||t=="HTML"||t=="#document")return;i.contentWindow.document.body.contains(r)||f(n)}};return ct(),{sg:it,ubc:bt}}(_ge,sj_ce)